<div class="top_nav">
  <div class="nav_menu">
    <nav>
      <div class="nav toggle">
        <a id="menu_toggle" (click)="toggleClicked($event)">
          <i class="fa fa-bars"></i>
        </a>
      </div>
      <ul class="nav navbar-nav navbar-right">
        <li class="" dropdown>
          <a class="user-profile" href id="single-button" dropdownToggle (click)="false">
            <img [src]="profilePicture" alt="">
            <span class="hidden-xs hidden-sm" *ngIf="user">{{user.first_name}} {{user.last_name}}</span>
            <span class=" fa fa-angle-down"></span>
          </a>
          <ul *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="single-button">
            <ng-container *ngFor="let item of userMenu">
              <li routerLinkActive="active-route" app-topbar-dropdown-item [item]="item"></li>
            </ng-container>
            <li>
              <a (click)="logout()">
                <i class="fa fa-sign-out pull-right"></i>
                Cerrar Sesi√≥n
              </a>
            </li>
          </ul>
        </li>

        <li role="presentation" dropdown>
          <a href id="notificaciones" dropdownToggle (click)="reloadNotifications()">
            <i class="fa fa-envelope-o"></i>
            <span class="badge bg-green">{{unreadCount}}</span>
          </a>
          <ul *dropdownMenu class="dropdown-menu list-unstyled msg_list" role="menu"
              aria-labelledby="notificaciones">
            <ng-container *ngIf="notifications.length">
              <li *ngFor="let notification of notifications"
                  [ngClass]="{read:notification.read,'unread':!notification.read}">
                <a>
                  <span class="image">
                    <img [src]="notification.created_by_img" alt="">
                  </span>
                  <span>
                    <span>{{notification.created_by}}</span>
                    <span class="time">{{notification.time}}</span>
                  </span>
                  <span class="message">
                    {{notification.body.body}}
                  </span>
                </a>
              </li>
            </ng-container>
            <li *ngIf="!notifications.length">
              <span>
                <h4>No hay notificaciones</h4>
              </span>
            </li>
            <li>
              <div class="text-center">
                <a [routerLink]="notificationUrl">
                  <strong>Ver Todas</strong>
                  <i class="fa fa-angle-right"></i>
                </a>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</div>
<!-- /top navigation -->
